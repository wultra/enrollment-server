# Database Structure

<!-- TEMPLATE database -->

You can download DDL scripts for supported databases:

- [PostgreSQL - Create Database Schema](./sql/postgresql/enrollment/create-schema.sql)
- [Oracle - Create Database Schema](./sql/oracle/enrollment/create-schema.sql)


## Auditing

The DDL files contain an `audit_log` table definition. The table differs slightly per database.

Only one `audit_log` table is required per PowerAuth stack in case the same schema is used for all deployed applications.

For more information about auditing library, see the [Wultra auditing library documentation](https://github.com/wultra/lime-java-core#wultra-auditing-library).


## Table Documentation

This chapter explains individual tables and their columns. The column types are used from PostgreSQL dialect, other databases use types that are equivalent (mapping is usually straight-forward).

<!-- begin database table es_operation_template -->
### Operation Template Table

Stores operation templates to be shown by the mobile application.
For more information, see [Operation Extensions](Operation-Extensions.md) and [Customizing Operation Form Data](Operation-Form-Data.md).

#### Schema

| Name          | Type           | Info                   | Note                                                                                     |
|---------------|----------------|------------------------|------------------------------------------------------------------------------------------|
| `id`          | `BIGINT`       | `NOT NULL PRIMARY KEY` | Autogenerated record identifier.                                                         |
| `placeholder` | `VARCHAR(255)` | `NOT NULL`             | Operation type at PowerAuth server.                                                      |
| `language`    | `VARCHAR(8)`   | `NOT NULL`             | Language of the template.                                                                |
| `title`       | `VARCHAR(255)` | `NOT NULL`             | Title of the operation.                                                                  |
| `message`     | `TEXT`         | `NOT NULL`             | Message for the user related to the operation.                                           |
| `attributes`  | `TEXT`         |                        | Structured custom form data attributes as JSON.                                          |
| `ui`          | `TEXT`         |                        | JSON configuration which may affect behavior or visual aspect of the mobile application. |

<!-- end -->
